{"version":3,"sources":["styles.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","onPictureClick","map","id","largeImageURL","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","largeImg","KEY","App","currentPage","searchQuery","isLoading","error","showModal","onChangeQuery","fetchPictures","axios","get","then","response","console","log","prevState","data","hits","catch","finally","onCloseModal","onOpenModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","color","height","width","text-align","timeout","modalImg","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b4e1963.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__3ZlfF\",\"Searchbar\":\"styles_Searchbar__2lWrA\",\"SearchForm\":\"styles_SearchForm__2EpJ8\",\"SearchFormButton\":\"styles_SearchFormButton__1XatS\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__3OJci\",\"SearchFormInput\":\"styles_SearchFormInput__10bGT\",\"ImageGallery\":\"styles_ImageGallery__EtctK\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__1myyY\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__27hIF\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__tN73t\",\"Overlay\":\"styles_Overlay__1QXnw\",\"Modal\":\"styles_Modal__1vv1U\",\"Button\":\"styles_Button__2oVKA\"};","import React, { Component } from 'react';\r\n\r\nimport styles from '../../styles.module.css'\r\n\r\nclass Searchbar extends Component {\r\n    state = { \r\n       query: '' \r\n    }\r\n\r\n    handleChange = e =>{\r\n        this.setState({query: e.currentTarget.value})\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n       \r\n        this.props.onSubmit(this.state.query)\r\n        this.setState({query: ''})\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles.SearchFormButton}>\r\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                    className={styles.SearchFormInput}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={this.state.query}\r\n                    onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.module.css'\r\n\r\nconst ImageGalleryItem = ({ webformatURL, onClick }) => (\r\n    <li className={styles.ImageGalleryItem} onClick={onClick}>\r\n        <img src={webformatURL} alt=\"\" className={styles.ImageGalleryItemImage} />\r\n    </li>   \r\n)\r\n\r\n \r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,    \r\n    onClick: PropTypes.func.isRequired,    \r\n}\r\n\r\nexport default ImageGalleryItem","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.module.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\n\r\n\r\nconst ImageGallery = ({pictures, onPictureClick}) =>(\r\n    <ul className={styles.ImageGallery}>\r\n        {pictures.map(({id, webformatURL, largeImageURL }) => (\r\n            <ImageGalleryItem key={id} webformatURL={webformatURL} onClick={() => onPictureClick(largeImageURL)}/>\r\n        ))}\r\n    </ul>\r\n)\r\n\r\n \r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.array.isRequired,    \r\n    onPictureClick: PropTypes.func.isRequired,    \r\n}\r\n\r\nexport default ImageGallery","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.module.css'\r\n\r\nconst Button = ({onClick}) =>(\r\n    <button \r\n    className={styles.Button} \r\n    type=\"button\" \r\n    onClick={onClick}\r\n    >Load more</button>\r\n)\r\n\r\nButton.propTypes = {   \r\n    onClick: PropTypes.func.isRequired,    \r\n}\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from '../../styles.module.css'\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e =>{\r\n        if(e.code==='Escape') {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n          this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() { \r\n        return createPortal( \r\n        <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={styles.Modal} >\r\n                <h1>Modal</h1>\r\n                <img src={this.props.largeImg} alt=\"\" />\r\n            </div>\r\n        </div>,\r\n         modalRoot\r\n        );\r\n    }\r\n}\r\n \r\n\r\n","import React, {Component} from 'react';\n// import PropTypes from 'prop-types'\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport styles from './styles.module.css'\nimport Searchbar from './components/Searchbar'\nimport ImageGallery from './components/ImageGallery'\nimport Button from './components/Button'\nimport Modal from './components/Modal'\n\n\n\nconst KEY = '21204345-b994baef221a75cda7aa18f50';\n\nclass App extends Component {\n  state = { \n    pictures: [],\n    currentPage: 1,\n    searchQuery:'',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImg: \"\",\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures()   \n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query, \n      currentPage:1, \n      pictures: [],\n      error: null,\n    });    \n  }\n\n  fetchPictures = () => {\n    const {currentPage, searchQuery} = this.state\n\n    this.setState({isLoading: true});\n\n    axios\n    .get(`https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(response => {\n      console.log(response)\n   \n      this.setState(prevState =>({\n        pictures: [...prevState.pictures, ...response.data.hits],\n        currentPage:prevState.currentPage+1,\n      }))      \n    })\n    .catch(error => this.setState({error}))\n    .finally(() => this.setState({isLoading:false}));\n\n  }\n\n  onCloseModal = () => {\n    this.setState(({showModal}) => ({\n      showModal: false,\n      largeImg: \"\" \n    }));\n  }\n\n  onOpenModal = (largeImageURL) => {\n    this.setState({\n      largeImg: largeImageURL,\n      showModal: true,\n    });\n  };\n\n\n  render() { \n    const {pictures, isLoading, error, showModal, largeImg} = this.state;\n\n    return ( \n      <div className={styles.App}>\n        {error && <h1>Something went wrong! Please, try again later</h1>}\n\n        <Searchbar onSubmit={this.onChangeQuery}/>\n        <ImageGallery pictures={pictures} onPictureClick={this.onOpenModal}/> \n\n        {pictures.length > 0 && !isLoading && (\n          <Button onClick={this.fetchPictures}/>\n        )}\n\n        {isLoading &&\n        <Loader\n          type=\"ThreeDots\" \n          color=\"#d400ff\" \n          height={80} \n          width={80}\n          text-align=\"center\"\n          timeout={3000} //3 secs\n        />}        \n      \n        {showModal && \n        <Modal \n          onClose={this.onCloseModal}\n          modalImg={largeImg}\n        />}\n      </div>\n     );\n  };\n}\n \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}